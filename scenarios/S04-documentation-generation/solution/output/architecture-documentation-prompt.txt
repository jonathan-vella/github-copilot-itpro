# Generate Architecture Documentation

Please create comprehensive **Architecture Documentation** for the following Azure solution in resource group **rg-contoso-patient-portal-dev**:

## Deployed Resources

### Compute Resources (2)
- **asp-contosopat-dev-qkfwso** (Microsoft.Web/serverfarms) - SKU: P1v2 - Location: Sweden Central
- **app-contosopat-dev-qkfwso** (Microsoft.Web/sites) - Location: Sweden Central

### Data Resources (3)
- **sql-contosopat-dev-qkfwso** (Microsoft.Sql/servers)
- **master** (Microsoft.Sql/servers/databases) - SKU: GP_SYSTEM
- **sqldb-patients-dev-qkfwso** (Microsoft.Sql/servers/databases) - SKU: Standard

### Network Resources (12)
- **nsg-data-dev-qkfwso** (Microsoft.Network/networkSecurityGroups)
- **nsg-web-dev-qkfwso** (Microsoft.Network/networkSecurityGroups)
- **vnet-contosopat-dev-qkfwso** (Microsoft.Network/virtualNetworks)
- **privatelink.database.windows.net** (Microsoft.Network/privateDnsZones)
- **privatelink.vaultcore.azure.net** (Microsoft.Network/privateDnsZones)
- **link-to-vnet** (Microsoft.Network/privateDnsZones/virtualNetworkLinks)
- **link-to-vnet** (Microsoft.Network/privateDnsZones/virtualNetworkLinks)
- **pe-keyvault-dev-qkfwso** (Microsoft.Network/privateEndpoints)
- **pe-sqlserver-dev-qkfwso** (Microsoft.Network/privateEndpoints)
- **pe-sqlserver-dev-qkfwso.nic.2452ca69-7f5e-4505-b393-c8087fa23188** (Microsoft.Network/networkInterfaces)
- **pe-keyvault-dev-qkfwso.nic.caf77a4e-ae78-4d34-89d4-17f3838ecd40** (Microsoft.Network/networkInterfaces)
- **vnet-contosopat-dev-qkfwso-snet-privateendpoints-dev-nsg-swedencentral** (Microsoft.Network/networkSecurityGroups)

### Security Resources (1)
- **kv-contosop-dev-qkfwso** (Microsoft.KeyVault/vaults)

### Monitoring Resources (2)
- **log-contosopat-dev-qkfwso** (Microsoft.OperationalInsights/workspaces)
- **appi-contosopa-dev-qkfwso** (microsoft.insights/components)


## Documentation Requirements

### 1. Architecture Overview
- System purpose and business value
- High-level architecture description
- Key architectural decisions and rationale
- Architecture patterns used (e.g., N-tier, microservices, event-driven)

### 2. Architecture Diagrams
Create Mermaid diagrams for:
- **System Context**: High-level system boundaries and external integrations
- **Component Diagram**: All Azure resources and their relationships
- **Deployment Diagram**: Resource groups, regions, availability zones
- **Network Diagram**: VNets, subnets, NSGs, private endpoints

### 3. Component Descriptions
For each major component, document:
- **Purpose**: What does this component do?
- **Technology**: Azure service type and SKU
- **Configuration**: Key settings and why they were chosen
- **Dependencies**: What other components does it depend on?
- **Scaling**: How does it scale?

### 4. Data Flow
- Request/response flows through the system
- Data storage and retrieval patterns
- Data transformation points
- Caching strategy
- Message queuing flows (if applicable)

### 5. Security Architecture
- Identity and access management (Entra ID, Managed Identity)
- Network security (NSGs, private endpoints, firewalls)
- Data encryption (at rest and in transit)
- Secrets management (Key Vault)
- Security monitoring and alerts

### 6. Networking
- VNet design and IP addressing
- Subnet segmentation strategy
- Network Security Groups (NSGs)
- Private endpoints and service endpoints
- Outbound connectivity and firewalls

### 7. High Availability & Disaster Recovery
- Availability zones usage
- Redundancy strategy
- Backup and restore procedures
- Failover mechanisms
- RPO and RTO targets

### 8. Performance & Scalability
- Performance requirements
- Scaling strategy (vertical vs horizontal)
- Auto-scaling configuration
- Performance monitoring approach

### 9. Cost Considerations
- Estimated monthly cost breakdown
- Cost optimization opportunities
- Reserved instance recommendations
- Resource right-sizing suggestions

### 10. Deployment Strategy
- Infrastructure as Code approach (Bicep/Terraform)
- CI/CD pipeline design
- Environment strategy (dev/staging/prod)
- Deployment validation and rollback

### 11. Monitoring & Observability
- Application Insights integration
- Log Analytics workspace design
- Key metrics and dashboards
- Alerting strategy

### 12. Compliance & Governance
- Regulatory requirements (HIPAA, GDPR, etc.)
- Azure Policy assignments
- Tagging strategy
- Resource naming conventions

## Output Format
- Use **Markdown** with clear headers and sections
- Include **Mermaid diagrams** (if requested)
- Use **tables** for resource lists and comparisons
- Add **badges** for compliance and certifications
- Include **decision records** (why choices were made)

## Guidelines
- Assume audience is technical architects and engineers
- Focus on **design decisions and rationale**
- Explain **trade-offs** between options
- Reference **Azure Well-Architected Framework** principles
- Make it **comprehensive but readable**

---

Please generate comprehensive architecture documentation following this structure.
