# Bicep Templates - Contoso Patient Portal

The generated Bicep templates for this demo are located in:

ðŸ“‚ **`../../infra/bicep/contoso-patient-portal/`**

## Quick Links

- [Main Template](../../infra/bicep/contoso-patient-portal/main.bicep)
- [Deployment Script](../../infra/bicep/contoso-patient-portal/deploy.ps1)
- [Implementation Summary](../../infra/bicep/contoso-patient-portal/IMPLEMENTATION-SUMMARY.md)
- [Validation Checklist](../../infra/bicep/contoso-patient-portal/VALIDATION-CHECKLIST.md)
- [README](../../infra/bicep/contoso-patient-portal/README.md)

## File Structure

```bicep
infra/bicep/contoso-patient-portal/
â”œâ”€â”€ main.bicep                      # Orchestration template
â”œâ”€â”€ main.bicepparam                 # Production parameters
â”œâ”€â”€ deploy.ps1                      # Deployment automation
â”œâ”€â”€ README.md                       # Complete documentation
â”œâ”€â”€ IMPLEMENTATION-SUMMARY.md       # Implementation details
â”œâ”€â”€ VALIDATION-CHECKLIST.md         # Testing procedures
â””â”€â”€ modules/
    â”œâ”€â”€ networking.bicep            # VNet, subnets, NSGs
    â”œâ”€â”€ monitoring.bicep            # Log Analytics, App Insights
    â”œâ”€â”€ app-service-plan.bicep      # Compute capacity
    â”œâ”€â”€ app-service.bicep           # Web application
    â”œâ”€â”€ sql-server.bicep            # SQL Server logical server
    â”œâ”€â”€ sql-database.bicep          # SQL Database with TDE
    â”œâ”€â”€ key-vault.bicep             # Secrets management
    â”œâ”€â”€ private-endpoints.bicep     # Private connectivity
    â”œâ”€â”€ key-vault-secrets.bicep     # Connection strings
    â””â”€â”€ rbac-assignments.bicep      # Access control
```

## Quick Deploy

```powershell
cd ../../infra/bicep/contoso-patient-portal
.\deploy.ps1 -Environment prod -Location eastus2
```

## Validation

```powershell
# Build templates
bicep build main.bicep --stdout --no-restore

# Lint templates
bicep lint main.bicep

# What-if analysis
.\deploy.ps1 -WhatIf
```

---

**Note**: These templates were generated by the **bicep-implement** agent in Stage 4 of the 5-agent workflow demo (Stage 0 is Plan Agent, followed by Stages 1-4).
